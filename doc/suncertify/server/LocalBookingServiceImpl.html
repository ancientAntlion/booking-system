<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_40) on Thu Mar 06 10:03:32 GMT 2014 -->
<title>LocalBookingServiceImpl</title>
<meta name="date" content="2014-03-06">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LocalBookingServiceImpl";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalBookingServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../suncertify/server/RemoteBookingService.html" title="interface in suncertify.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/server/LocalBookingServiceImpl.html" target="_top">Frames</a></li>
<li><a href="LocalBookingServiceImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">suncertify.server</div>
<h2 title="Class LocalBookingServiceImpl" class="title">Class LocalBookingServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>suncertify.server.LocalBookingServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../suncertify/server/BookingService.html" title="interface in suncertify.server">BookingService</a>, <a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server">LocalBookingService</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">LocalBookingServiceImpl</span>
extends java.lang.Object
implements <a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server">LocalBookingService</a></pre>
<div class="block">Implementation of LocalBookingService interface. When the a client starts it initializes
 an instance of this class in it's own thread. This class has an instance DB which is our gateway
 To the database
 
 Because the DB interface takes lockCookies when updating and deleting records we have the lock
 And unlock handling here rather than inside the DB implementation</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Aaron</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_suncertify.server.BookingService">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;suncertify.server.<a href="../../suncertify/server/BookingService.html" title="interface in suncertify.server">BookingService</a></h3>
<code><a href="../../suncertify/server/BookingService.html#customerFieldWhiteSpace">customerFieldWhiteSpace</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../suncertify/server/LocalBookingServiceImpl.html#LocalBookingServiceImpl(java.lang.String)">LocalBookingServiceImpl</a></strong>(java.lang.String&nbsp;dbFileName)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/server/LocalBookingServiceImpl.html#book(int, java.lang.String)">book</a></strong>(int&nbsp;recNo,
    java.lang.String&nbsp;customerID)</code>
<div class="block">Books a record with the supplied ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../suncertify/shared/model/Record.html" title="class in suncertify.shared.model">Record</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/server/LocalBookingServiceImpl.html#find(java.lang.String, java.lang.String)">find</a></strong>(java.lang.String&nbsp;name,
    java.lang.String&nbsp;location)</code>
<div class="block">Gets a list of records that start with or equal to the supplied name and location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/server/LocalBookingServiceImpl.html#unbook(int)">unbook</a></strong>(int&nbsp;recNo)</code>
<div class="block">Unbooks a record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LocalBookingServiceImpl(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LocalBookingServiceImpl</h4>
<pre>public&nbsp;LocalBookingServiceImpl(java.lang.String&nbsp;dbFileName)
                        throws <a href="../../suncertify/db/DatabaseInitializationException.html" title="class in suncertify.db">DatabaseInitializationException</a></pre>
<div class="block">Constructor</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbFileName</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DatabaseInitializationException.html" title="class in suncertify.db">DatabaseInitializationException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="book(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>book</h4>
<pre>public&nbsp;void&nbsp;book(int&nbsp;recNo,
        java.lang.String&nbsp;customerID)
          throws <a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></pre>
<div class="block">Books a record with the supplied ID. We lock the record and when it is successfully locked we set
 The boolean successfullyLocked to true. This is used in the finally block so we know whether or not
 We need to unlock the record. Then we read the record and update the record with the supplied customerID
 We unlock the record in the finally block to ensure records are unlocked even in error scenarios</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/BookingService.html#book(int, java.lang.String)">book</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/BookingService.html" title="interface in suncertify.server">BookingService</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/LocalBookingService.html#book(int, java.lang.String)">book</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server">LocalBookingService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>recNo</code> - </dd><dd><code>customerID</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></code></dd></dl>
</li>
</ul>
<a name="unbook(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unbook</h4>
<pre>public&nbsp;void&nbsp;unbook(int&nbsp;recNo)
            throws <a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></pre>
<div class="block">Unbooks a record. We lock the record and when it is successfully locked we set the boolean
 successfullyLocked to true. This is used in the finally block so we know whether or not we need
 To unlock the record. Then we read the record and update the record with a blank customer ID
 We unlock the record in the finally block to ensure records are unlocked even in error scenarios</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/BookingService.html#unbook(int)">unbook</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/BookingService.html" title="interface in suncertify.server">BookingService</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/LocalBookingService.html#unbook(int)">unbook</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server">LocalBookingService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>recNo</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></code></dd></dl>
</li>
</ul>
<a name="find(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../suncertify/shared/model/Record.html" title="class in suncertify.shared.model">Record</a>&gt;&nbsp;find(java.lang.String&nbsp;name,
                          java.lang.String&nbsp;location)
                            throws <a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></pre>
<div class="block">Gets a list of records that start with or equal to the supplied name and location.
 If a null value for name or location will match any field value</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/BookingService.html#find(java.lang.String, java.lang.String)">find</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/BookingService.html" title="interface in suncertify.server">BookingService</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../suncertify/server/LocalBookingService.html#find(java.lang.String, java.lang.String)">find</a></code>&nbsp;in interface&nbsp;<code><a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server">LocalBookingService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - </dd><dd><code>location</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>recordList</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/server/exceptions/BookingServiceException.html" title="class in suncertify.server.exceptions">BookingServiceException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalBookingServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../suncertify/server/LocalBookingService.html" title="interface in suncertify.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../suncertify/server/RemoteBookingService.html" title="interface in suncertify.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/server/LocalBookingServiceImpl.html" target="_top">Frames</a></li>
<li><a href="LocalBookingServiceImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
